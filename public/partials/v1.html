<div class='linnya-chat'>
	<div class='mini online' ng-show="control == 'mini-online'" ng-click="vm.chatInit()">
		<div class="side">
			<svg style="width:40px;height:40px" viewBox="0 0 24 24">
			    <path fill="white" d="M4,2A2,2 0 0,0 2,4V16A2,2 0 0,0 4,18H8V21A1,1 0 0,0 9,22H9.5V22C9.75,22 10,21.9 10.2,21.71L13.9,18H20A2,2 0 0,0 22,16V4C22,2.89 21.1,2 20,2H4M4,4H20V16H13.08L10,19.08V16H4V4M12.19,5.5C11.3,5.5 10.59,5.68 10.05,6.04C9.5,6.4 9.22,7 9.27,7.69C0.21,7.69 6.57,7.69 11.24,7.69C11.24,7.41 11.34,7.2 11.5,7.06C11.7,6.92 11.92,6.85 12.19,6.85C12.5,6.85 12.77,6.93 12.95,7.11C13.13,7.28 13.22,7.5 13.22,7.8C13.22,8.08 13.14,8.33 13,8.54C12.83,8.76 12.62,8.94 12.36,9.08C11.84,9.4 11.5,9.68 11.29,9.92C11.1,10.16 11,10.5 11,11H13C13,10.72 13.05,10.5 13.14,10.32C13.23,10.15 13.4,10 13.66,9.85C14.12,9.64 14.5,9.36 14.79,9C15.08,8.63 15.23,8.24 15.23,7.8C15.23,7.1 14.96,6.54 14.42,6.12C13.88,5.71 13.13,5.5 12.19,5.5M11,12V14H13V12H11Z" />
			</svg>
		</div>
		<div class="content">
			<h5 ng-bind="custom.online.title">We can help you?</h5>
			<h5 ng-bind="custom.online.subtitle">Como usar o tema do Material</h5>
		</div>
	</div>
	<div class='mini offline' ng-show="control == 'mini-offline'" ng-click="control = 'form'">
		<div class="side">
			<svg style="width:40px;height:40px" viewBox="0 0 24 24">
			    <path fill="white" d="M4,2A2,2 0 0,0 2,4V16A2,2 0 0,0 4,18H8V21A1,1 0 0,0 9,22H9.5V22C9.75,22 10,21.9 10.2,21.71L13.9,18H20A2,2 0 0,0 22,16V4C22,2.89 21.1,2 20,2H4M4,4H20V16H13.08L10,19.08V16H4V4M12.19,5.5C11.3,5.5 10.59,5.68 10.05,6.04C9.5,6.4 9.22,7 9.27,7.69C0.21,7.69 6.57,7.69 11.24,7.69C11.24,7.41 11.34,7.2 11.5,7.06C11.7,6.92 11.92,6.85 12.19,6.85C12.5,6.85 12.77,6.93 12.95,7.11C13.13,7.28 13.22,7.5 13.22,7.8C13.22,8.08 13.14,8.33 13,8.54C12.83,8.76 12.62,8.94 12.36,9.08C11.84,9.4 11.5,9.68 11.29,9.92C11.1,10.16 11,10.5 11,11H13C13,10.72 13.05,10.5 13.14,10.32C13.23,10.15 13.4,10 13.66,9.85C14.12,9.64 14.5,9.36 14.79,9C15.08,8.63 15.23,8.24 15.23,7.8C15.23,7.1 14.96,6.54 14.42,6.12C13.88,5.71 13.13,5.5 12.19,5.5M11,12V14H13V12H11Z" />
			</svg>
		</div>
		<div class="content">
			<h5 ng-bind="custom.offline.title">We are offline</h5>
			<h5 ng-bind="custom.offline.subtitle">Leave a messagem</h5>
		</div>
	</div>
	<div class='offline' ng-show="control == 'form'">
		<div class="about" ng-class="vm.about ? 'active' : ''">
			<div class="backdrop" ng-click="vm.about = !vm.about"></div>
			<div class="content">
				<a href="#" class="logo">
					<br>			
					<img src="wp-content/plugins/linnya-wp/public/img/file.png" width="24px;">
					<h4>
						<small>Powered by</small>
						Linnya Network
					</h4>
				</a>
				<p>Lorem ipsum dolor sit amet, <a href="#">Privacy and Policy</a> and <a href="#">Terms</a> consectetur adipisicing elit, sed do eiusmod
				tempor incididunt ut labore et dolore magna aliqua.</p>
				<small>Version 0.1.0 beta</small>
				<br>
			</div>
		</div>

		<div class="line">
			<div class="opt float-right">
				<img src="wp-content/plugins/linnya-wp/public/svg/window-minimize.svg" ng-click="control = 'mini-offline'; sended = false">
				<!-- <img src="wp-content/plugins/linnya-wp/public/svg/arrow-top-right.svg"> -->
				<img src="wp-content/plugins/linnya-wp/public/svg/close.svg" ng-click="control = 'foo'">
			</div>
		</div>
		<div ng-hide="sended">
			<div class="header">
				<h3>We are offline</h3>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
				tempor incididunt ut labore et dolore magna aliqua</p>
			</div>
			<form>
				<input type="text" ng-model="vm.offline.name" placeholder="Name">
				<input type="email" ng-model="vm.offline.email" placeholder="Email">
				<textarea ng-model="vm.offline.message" placeholder="Input your message here"></textarea>
				<br>			
				<button ng-click="vm.offline = {}">Reset</button>
				<button ng-click="vm.sendEmail(vm.offline);">Send</button>
				<br>			
			</form>
		</div>
		<div ng-show="sended" class="sended">
			<h3>Your message was sent</h3>
			<img width="56px" src="wp-content/plugins/linnya-wp/public/svg/check.svg">
			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
			tempor incididunt ut labore et dolore magna aliqua</p>
			<br>
		</div>
		<a href="#" class="logo" ng-click="vm.about = !vm.about" ng-hide="sended">
			<!-- <img src="file.png" width="24px;"> -->
			<h4>
				<small>Powered by</small>
				Linnya Network
			</h4>
		</a href="#">
	</div>
	<div class="chat" ng-show="control == 'chat'" style="height:{{size}}px">
		<div class="about" ng-class="vm.about ? 'active' : ''">
			<div class="backdrop" ng-click="vm.about = !vm.about"></div>
			<div class="content">
				<a href="#" class="logo">
					<br>			
					<img src="wp-content/plugins/linnya-wp/public/img/file.png" width="24px;">
					<h4>
						<small>Powered by</small>
						Linnya Network
					</h4>
				</a>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
				tempor incididunt ut labore et dolore magna aliqua.</p>
				<small>Version 0.1.0 beta</small>
				<br>
			</div>
		</div>
		<div class="header">
			<div class="line">
				<div class="opt float-right">
					<img src="wp-content/plugins/linnya-wp/public/svg/white/window-minimize.svg" ng-click="vm.minimize()">
					<!-- <img src="wp-content/plugins/linnya-wp/public/svg/white/arrow-top-right.svg"> -->
					<img src="wp-content/plugins/linnya-wp/public/svg/white/close.svg" ng-click="control = 'foo'">
				</div>
			</div>
			<div class="content slider slide1" ng-hide="agent">
				<h4 ng-bind="custom.wait.title"></h4>
				<p ng-bind="custom.wait.subtitle"></p>	
			</div>
			<div class="content" ng-show="agent">
				<div class="avatar float-left">
					<img ng-src="{{agent.avatarUrl}}" width="40px" height="40px">
				</div>
				<div style="display: inline-block;width: 72%">
					<h5 class="title">{{agent.firstName}} {{agent.lastName}} - {{agent.role}}</h5>
					<h5 ng-bind="vm.getAgentLastAct(availableAgents[agent.$id].lastActivity)"></h5>
				</div>
			</div>
		</div>
		<div class="msgs" ng-scroll-bottom="msgs">
			<div ng-repeat="msg in msgs" class="row">
				<div ng-show="msg.type == 'text' && msg.by !== 'system'" ng-class="(msg.by == 'agent') ? 'agent' : 'guest float-right'" class="msg">
					<p class="content" ng-bind-html="msg.content | html"></p>
					<small>{{vm.timeCoverter(msg.time)}} 
						<svg ng-show="msg.status === 'read' && msg.by == 'guest'" viewBox="0 0 24 24">
					    	<path fill="white" d="M0.41,13.41L6,19L7.41,17.58L1.83,12M22.24,5.58L11.66,16.17L7.5,12L6.07,13.41L11.66,19L23.66,7M18,7L16.59,5.58L10.24,11.93L11.66,13.34L18,7Z" />
						</svg>
					</small>
				</div>
				<div ng-show="msg.by !== 'system' && msg.type !== 'image/jpeg' && msg.type !== 'image/png' && msg.type !== 'text' && msg.type !== 'image/gif'" ng-class="(msg.by == 'agent') ? 'agent' : 'guest float-right'" class="file">
					<a href="{{msg.link}}" target="_blank" class="content">
						<div class="file-icon float-left" ng-bind="vm.getExtension(msg.content)"></div>
						<p ng-bind="msg.content"></p>

						<img class="float-right download-icon" src="wp-content/plugins/linnya-wp/public/svg/cloud-download.svg" width="10%">
					</a>
					<small>{{vm.timeCoverter(msg.time)}} 
						<svg ng-show="msg.status === 'read'" viewBox="0 0 24 24">
					    	<path fill="white" d="M0.41,13.41L6,19L7.41,17.58L1.83,12M22.24,5.58L11.66,16.17L7.5,12L6.07,13.41L11.66,19L23.66,7M18,7L16.59,5.58L10.24,11.93L11.66,13.34L18,7Z" />
						</svg>
					</small>
				</div>
				<div ng-show="msg.type == 'image/jpeg' || msg.type == 'image/png' || msg.type == 'image/gif'" ng-class="(msg.by == 'agent') ? 'agent' : 'guest float-right'" class="msg picture">
					<img ng-src="{{msg.link}}">
					<small>{{vm.timeCoverter(msg.time)}} 
						<svg ng-show="msg.status === 'read'" viewBox="0 0 24 24">
					    	<path fill="white" d="M0.41,13.41L6,19L7.41,17.58L1.83,12M22.24,5.58L11.66,16.17L7.5,12L6.07,13.41L11.66,19L23.66,7M18,7L16.59,5.58L10.24,11.93L11.66,13.34L18,7Z" />
						</svg>
					</small>
				</div>
				<div ng-show="msg.by === 'system' && msg.status === 'sent' && msg.type === 'text'" class="system">
					<div class="content">
						<h5 class="title" ng-bind="msg.title"></h5>
						<p class="subtitle" ng-bind="msg.subtitle"></p>
					</div>
				</div>
				<div ng-show="msg.by === 'system' && msg.status === 'sent' && msg.type === 'form'" class="dynamic-forms system">
					<div class="content">
						<h5 class="title" ng-bind="msg.title"></h5>
						<p class="subtitle" ng-bind="msg.subtitle"></p>
						<input type="text" ng-model="vm.form.fullName" placeholder="Full Name" required>
						<input type="email" ng-model="vm.form.email" placeholder="Email address" required>
						<div class="actions">
							<div class="float-right">
								<button ng-click="msg.status = 'read'; msgs.$save(msg)">
									<img src="wp-content/plugins/linnya-wp/public/svg/white/close.svg">
								</button>
								<button ng-click="vm.updateGuestProfile(vm.form, msg);">
									<svg style="width:24px;height:24px" viewBox="0 0 24 24">
									    <path fill="white" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" />
									</svg>
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="write" layout="row">
			<form class="compose_block" flex>
				<div class="speed" ng-hide="emojiArea" ng-click="active = true" ng-mouseleave="active = false">
					<div class="progress-circle" ng-show="current">
						<round-progress
					    max="100"
					    current="current"
					    color="#45ccce"
					    bgcolor="#eaeaea"
					    radius="100"
					    stroke="20"
					    rounded="true"
					    clockwise="false"
					    responsive="false"
					    duration="800"
					    animation="easeInOutQuart"></round-progress>
					</div>
					
					<div class="fab mini" ng-click="emojiArea = true" ng-show="active">
						<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M12,17.5C14.33,17.5 16.3,16.04 17.11,14H6.89C7.69,16.04 9.67,17.5 12,17.5M8.5,11A1.5,1.5 0 0,0 10,9.5A1.5,1.5 0 0,0 8.5,8A1.5,1.5 0 0,0 7,9.5A1.5,1.5 0 0,0 8.5,11M15.5,11A1.5,1.5 0 0,0 17,9.5A1.5,1.5 0 0,0 15.5,8A1.5,1.5 0 0,0 14,9.5A1.5,1.5 0 0,0 15.5,11M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" /></svg>
					</div>
					<div class="fab mini" ng-show="active">
						<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z" /></svg>
						<input type="file" onchange="angular.element(this).scope().uploadFiles(this.files)" class="upload" />
					</div>
					<div class="fab">+</div>
				</div>
				<div class="fab" ng-click="emojiArea = false; uploadArea = false" ng-show="emojiArea || uploadArea">
					<img src="wp-content/plugins/linnya-wp/public/svg/chevron-down-white.svg">
				</div>
				<div class="input" id="input-compose" callback-fn="sendMsg(vm.write)" contenteditable="true" ng-model="vm.write.content"></div>
<!-- 				<input class="input" autocomplete="off" placeholder="Message" id="input-compose" flex ng-model="vm.write.content"> -->
			</form>
		</div>
		<div class="emoji-area" ng-show="emojiArea">
			<div class="tabs">
				<div ng-init="vm.tabIndex = $first" ng-repeat="tab in vm.emojis" class="tab" ng-class="vm.tabIndex == $index ? 'active' : ''" ng-click="vm.tabIndex = $index"><img ng-src="{{tab.icon}}"></div>
			</div>
			<div class="content">
				<div ng-repeat="tab in vm.emojis" class="tab" ng-show="vm.tabIndex == $index">
<!-- 					<img  ng-src="https://twemoji.maxcdn.com/36x36/{{vm.encode_utf8(emoji.unicode)}}.png" > -->
					<span ng-repeat="emoji in tab.list" ng-bind="emoji.unicode" ng-click="vm.emojiSelect($parent.$index, $index)"></span>
				</div>
			</div>
		</div>
		<a href="#" class="logo" ng-click="vm.about = !vm.about">
			<!-- <img src="file.png" width="24px;"> -->
			<h4>
				<small>Powered by</small>
				Linnya Network
			</h4>
		</a href="#">
	</div>

	<div class="invite" ng-show="control == 'invite'">
		<img class="close" src="wp-content/plugins/linnya-wp/public/svg/close.svg" width="16px" height="16px">
		<div class="head" ng-click="vm.inviteAcc()"></div>
		<div class="avatar" ng-click="vm.inviteAcc()">
			<img ng-src="{{agent.avatarUrl}}" width="100%" height="100%">
		</div>
		<div class="content" ng-click="vm.inviteAcc()">
			<b>{{agent.firstName}} {{agent.lastName}} - {{agent.role}}</b>
			<p ng-bind="visitor.invite.content">Maybe now that Android apps are coming to Chrome and Mozilla Giroflex</p>
		</div>
		
	</div>
	<div class="minimized" ng-show="control == 'minimized'">
		<div class="header">
			<div class="line">
				<div class="opt float-right">
					<img src="wp-content/plugins/linnya-wp/public/svg/white/window-maximize.svg" ng-click="vm.maxmize()">
					<!-- <img src="wp-content/plugins/linnya-wp/public/svg/white/arrow-top-right.svg"> -->
					<img src="wp-content/plugins/linnya-wp/public/svg/white/close.svg">
				</div>
			</div>
			<div class="content" ng-show="agent">
				<div class="avatar float-left">
					<img ng-src="{{agent.avatarUrl}}" width="40px" height="40px">
				</div>
				<div style="display: inline-block;width: 72%">
					<h5 class="title">{{agent.firstName}} {{agent.lastName}} - {{agent.role}}</h5>
					<h5>{{agent.website}}</h5>
				</div>
			</div>
			<div class="content" ng-hide="agent">
				<div class="avatar float-left">
					<!-- <img ng-src="{{agent.avatarUrl}}" width="40px" height="40px"> -->
				</div>
				<h5 class="title">{{custom.wait}}</h5>
			</div>
		</div>
		
	</div>
</div>